<FORM>
  <preferences>
    <size width="870" height="550" />
    <name>Nueva Cotizaci√≥n</name>
    <icon>NFCREDITO</icon>
    <iconificable />
    <maximizable/>
    <resizable />
    <closable />
    <date />

    <loadMultiBranch>LCSEL0133</loadMultiBranch>
    <notCleanExportValue>trm</notCleanExportValue>
    <notCleanExportValue>id_bodega</notCleanExportValue>
    <notCleanExportValue>id_bodega_separado</notCleanExportValue>
    <notCleanExportValue>id_centrocosto</notCleanExportValue>
    <notCleanExportValue>codigo_tipo</notCleanExportValue>
    <notCleanExportValue>nombre_suc</notCleanExportValue>
    <notCleanExportValue>direccion</notCleanExportValue>
    <notCleanExportValue>telefono</notCleanExportValue>
    <notCleanExportValue>email</notCleanExportValue>
    <notCleanExportValue>ciudad</notCleanExportValue>
    <notCleanExportValue>catalogo</notCleanExportValue>
    <notCleanExportValue>keyBodega</notCleanExportValue>
    <notCleanExportValue>vendedor</notCleanExportValue>
    <notCleanExportValue>nitalterno</notCleanExportValue>
    <notCleanExportValue>terceroal</notCleanExportValue>
    <notCleanExportValue>regimenal</notCleanExportValue>
    <notCleanExportValue>codigotiposep</notCleanExportValue>

    <notCleanExportValue>horarioatencion</notCleanExportValue>
    <notCleanExportValue>piepaginauno</notCleanExportValue>
    <notCleanExportValue>piepaginados</notCleanExportValue>
    <notCleanExportValue>piepaginatres</notCleanExportValue>
    <notCleanExportValue>nitalterno</notCleanExportValue>

    <mainPackageStore>id_bodega</mainPackageStore>
    <minorPackageStore>id_bodega_separado</minorPackageStore>
    <costCenter>id_centrocosto</costCenter>
    <documentPrefix>codigo_tipo</documentPrefix>
    <branchName>nombre_suc</branchName>
    <branchAddress>direccion</branchAddress>
    <branchPhone>telefono</branchPhone>
    <branchEmail>email</branchEmail>
    <branchCity>ciudad</branchCity>    

    <requestFocus>client.gui.components.FindThird</requestFocus>

  </preferences>

  
    <component>
        <driver id="piepaginauno">common.gui.components.GenericData</driver>
        <parameters>
            <subarg>
                <arg attribute="format">TEXT</arg>
                <arg attribute="exportValue">piepaginauno</arg>
                <arg attribute="name">piepaginauno</arg>
                <arg attribute="size">20</arg>
                <arg attribute="maxlength">200</arg>
                <arg attribute="sqlInit">LCSEL0094</arg>
                <arg attribute="queryOnInit">true</arg>
                <arg attribute="importValue">codigo_tipo</arg>
            </subarg>
        </parameters>
    </component>
    <component>
        <driver id="piepaginados">common.gui.components.GenericData</driver>
        <parameters>
            <subarg>
                <arg attribute="format">TEXT</arg>
                <arg attribute="exportValue">piepaginados</arg>
                <arg attribute="name">piepaginados</arg>
                <arg attribute="size">20</arg>
                <arg attribute="maxlength">200</arg>
                <arg attribute="sqlInit">LCSEL0095</arg>
                <arg attribute="queryOnInit">true</arg>
                <arg attribute="importValue">codigo_tipo</arg>
            </subarg>
        </parameters>
    </component>

<!-- Base IVA gravados -->
    <component>
        <driver id="baseivagravados">client.gui.components.TableDataFields</driver>
        <parameters>
          <arg attribute="Panel">false</arg>
          <subarg>
            <arg attribute="name">TOTALBASEIVA</arg>
            <arg attribute="format">NUMERIC</arg>
            <arg attribute="size">10</arg>
            <arg attribute="maxlength">26</arg>
            <arg attribute="enabled">false</arg>
            <arg attribute="alignment">RIGHT</arg>
            <!-- <arg attribute="totalCol">j</arg> -->
            <arg attribute="exportValue">baseivagravados</arg>
            <arg attribute="calculateExportValue">stotaldiezynueve+stotalcinco</arg>
            <arg attribute="printable">true</arg>
          </subarg>
        </parameters>
  </component>

<!-- subtotal sin verde -->
    <component>
        <driver id="subtotalglobalsinverde">client.gui.components.TableDataFields</driver>
        <parameters>
          <arg attribute="Panel">false</arg>
          <subarg>
            <arg attribute="name">TOTALBASEIVA</arg>
            <arg attribute="format">NUMERIC</arg>
            <arg attribute="size">10</arg>
            <arg attribute="maxlength">26</arg>
            <arg attribute="enabled">false</arg>
            <arg attribute="alignment">RIGHT</arg>
            <arg attribute="exportValue">subtotalglobalsinverde</arg>
            <arg attribute="calculateExportValue">subtotalsinbolsa</arg>
            <arg attribute="printable">true</arg>
          </subarg>
        </parameters>
  </component>

<!-- total sin retenciones -->
    <component>
        <driver id="totalmenosreteglobal">client.gui.components.TableDataFields</driver>
        <parameters>
          <arg attribute="Panel">false</arg>
          <subarg>
            <arg attribute="name">totalmenosreteglobal</arg>
            <arg attribute="format">NUMERIC</arg>
            <arg attribute="size">10</arg>
            <arg attribute="maxlength">26</arg>
            <arg attribute="enabled">false</arg>
            <arg attribute="alignment">RIGHT</arg>
            <arg attribute="exportValue">totalmenosreteglobal</arg>
            <arg attribute="calculateExportValue">totalfact-(trfuente+triva+trica)</arg>
            <arg attribute="printable">true</arg>
          </subarg>
        </parameters>
  </component>

  <component>
    <driver id="nitalterno">common.gui.components.GenericData</driver>
    <parameters>
      <subarg>
        <arg attribute="format">TEXT</arg>
        <arg attribute="name">nitalterno</arg>
        <arg attribute="size">20</arg>
        <arg attribute="maxlength">200</arg>
        <arg attribute="sqlInit">MTSEL0737</arg>
        <arg attribute="queryOnInit">true</arg>
        <arg attribute="importValue">nombre_suc</arg>
        <arg attribute="nameField">nitalterno</arg>
        <arg attribute="exportValue">nitalterno</arg>
      </subarg>
    </parameters>
  </component>
  <component>
    <driver id="terceroal">common.gui.components.GenericData</driver>
    <parameters>
      <subarg>
        <arg attribute="format">TEXT</arg>
        <arg attribute="name">terceroal</arg>
        <arg attribute="size">20</arg>
        <arg attribute="maxlength">200</arg>
        <arg attribute="sqlInit">MTSEL0738</arg>
        <arg attribute="queryOnInit">true</arg>
        <arg attribute="importValue">nombre_suc</arg>
        <arg attribute="nameField">terceroal</arg>
        <arg attribute="exportValue">terceroal</arg>
      </subarg>
    </parameters>
  </component>

  <component>
    <driver id="centrocosto">common.gui.components.GenericData</driver>
    <parameters>
      <subarg>
        <arg attribute="format">TEXT</arg>
        <arg attribute="name">centro</arg>
        <arg attribute="size">5</arg>
        <arg attribute="maxlength">20</arg>
        <arg attribute="sqlInit">MTSEL0682</arg>
        <arg attribute="queryOnInit">true</arg>
        <arg attribute="importValue">id_centrocosto</arg>
        <arg attribute="nameField">centrocosto</arg>
        <arg attribute="addAttribute">key</arg>
        <arg attribute="nullValue">true</arg>
        <arg attribute="exportValue">keyCentro</arg>
      </subarg>
    </parameters>
  </component>

  <!--  Forma de factura credito -->
  <panel locate="North" type="BorderLayout">
    <panel locate="North" type="FlowLayout" />
    <tab locate="West">
      <panel name="THIRD" icon="NTERCERO" type="BorderLayout">
        <component locate="Center">
          <driver>client.gui.components.FindThird</driver>
          <parameters>
            <arg attribute="keySQL">SEL0157</arg>
            <arg attribute="driverEvent">client.gui.components.TableDataFields</arg>
            <arg attribute="sqlSizeRecords">SEL0132</arg>
            <arg attribute="sqlRecords">LCSEL0935</arg>
            <arg attribute="sqlAddress">LCSEL0933</arg>
            <arg attribute="sqlPhones">LCSEL0934</arg>
            <arg attribute="sqlCodeWT">LCSEL0200</arg>
            <arg attribute="sqlCodeWT">LCSEL0202</arg>
            <arg attribute="sqlCodeWT">LCSEL0203</arg>
            <arg attribute="importTypeDocument">codigo_tipo</arg>
            <arg attribute="importValue">id_centrocosto</arg>
            <arg attribute="exportValue">idtercero</arg>
            <arg attribute="maxRecords">100</arg>
            <arg attribute="placement">LEFT</arg>
            <arg attribute="singleIcon">true</arg>
          </parameters>
        </component>
      </panel>
      <panel name="GENERAR" icon="NTERCERO" type="BorderLayout">
        <panel locate="Center" type="BorderLayout">
          <panel locate="East" type="FlowLayout" />
          <panel locate="West" type="FlowLayout" />
          <panel locate="North" type="BorderLayout">
            <panel locate="East" type="FlowLayout" />
            <panel locate="North" type="FlowLayout" />
            <component locate="West">
              <driver>common.gui.components.XMLLabel</driver>
              <parameters>
                <arg attribute="text">Generar de</arg>
                <arg attribute="font">Dialog,0,13</arg>
              </parameters>
            </component>
            <component locate="Center">
              <driver id="tipo_doc">client.gui.components.XMLComboBox</driver>
              <parameters>
                <arg attribute="importValue">codigo_tipo</arg>
                <arg attribute="sqlCombo">LCSEL0252</arg>
                <arg attribute="selectedIndex">0</arg>
                <arg attribute="clean">false</arg>
                <arg attribute="exportValue">tipo_doc</arg>
              </parameters>
            </component>
          </panel>
          <panel locate="Center" type="BorderLayout">
            <panel locate="East" type="FlowLayout" />
            <panel locate="West" type="FlowLayout" />
            <component locate="North">
              <driver>common.gui.components.XMLLabel</driver>
              <parameters>
                <arg attribute="text">Nro. Generador</arg>
                <arg attribute="alignment">CENTER</arg>
                <arg attribute="font">Dialog,0,13</arg>
              </parameters>
            </component>
            <panel locate="Center" type="FlowLayout" align="center">
              <component locate="Center">
                <driver>client.gui.components.TableDataFields</driver>
                <parameters>
                  <subarg>
                    <arg attribute="format">TEXT</arg>
                    <arg attribute="size">12</arg>
                    <arg attribute="maxlength">10</arg>
                    <arg attribute="font">Dialog,0,13</arg>
                    <arg attribute="foreground">0,0,0</arg>
                    <arg attribute="background">171,223,222</arg>
                    <arg attribute="alignment">RIGHT</arg>
                    <arg attribute="importValue">tipo_doc</arg>
                    <arg attribute="sqlCode">LCSEL0966</arg>
                    <arg attribute="sqlCode">SEL0157</arg>

                  </subarg>
                </parameters>
              </component>
            </panel>
          </panel>
        </panel>
      </panel>
    </tab>
    <panel locate="Center" type="BorderLayout">
      <box locate="Center" width="30" />
      <panel locate="South" type="FlowLayout" />
      <panel locate="East" type="BorderLayout">
        <panel locate="North" type="BorderLayout">
          <panel locate="Center" type="BorderLayout">
            <component locate="Center">
              <driver id="Vendedor">client.gui.components.XMLComboBox</driver>
              <parameters>
                <arg attribute="importValue">id_bodega</arg>
                <arg attribute="sqlCombo">MTSEL0735</arg>
                <arg attribute="label">VENDEDOR</arg>
                <arg attribute="selectedIndex">1</arg>
                <arg attribute="addAttribute">finalKey</arg>
                <arg attribute="exportValue">vendedor</arg>
              </parameters>
            </component>
            <component locate="West">
              <driver id="Bodega">client.gui.components.XMLComboBox</driver>
              <parameters>
                <arg attribute="sqlCombo">SEL0088</arg>
                <arg attribute="label">BODEGA</arg>
                <arg attribute="selectedIndex">1</arg>
                <arg attribute="addAttribute">key</arg>
                <arg attribute="nameField">bodegaSaliente</arg>
              </parameters>
            </component>
          </panel>
          <panel locate="South" type="BorderLayout">
            <panel locate="Center" type="BorderLayout">
              <box locate="West" width="60" />
              <box locate="East" width="30" />
              <box locate="North" length="20" />
              <box locate="South" length="35" />
              <panel locate="Center" type="BorderLayout">
                <panel locate="West" type="GridLayout" rows="4" cols="1">
                  <component locate="West">
                    <driver>common.gui.components.XMLLabel</driver>
                    <parameters>
                      <arg attribute="text">Fecha</arg>
                      <arg attribute="alignment">0</arg>
                      <arg attribute="font">Dialog,0,14</arg>
                    </parameters>
                  </component>
                  <component locate="West">
                    <driver>common.gui.components.XMLLabel</driver>
                    <parameters>
                      <arg attribute="text">Nro. Documento</arg>
                      <arg attribute="alignment">0</arg>
                      <arg attribute="font">Dialog,0,14</arg>
                    </parameters>
                  </component>
                  <component locate="West">
                    <driver>common.gui.components.XMLLabel</driver>
                    <parameters>
                      <arg attribute="text">TOTAL</arg>
                      <arg attribute="alignment">0</arg>
                      <arg attribute="font">Dialog,0,14</arg>
                    </parameters>
                  </component>
                  <component locate="West">
                    <driver>common.gui.components.XMLLabel</driver>
                    <parameters>
                      <arg attribute="text">Total Art√≠culos</arg>
                      <arg attribute="alignment">0</arg>
                      <arg attribute="font">Dialog,0,14</arg>
                    </parameters>
                  </component>
                </panel>
                <panel locate="Center" type="GridLayout" rows="4" cols="1">
                  <component locate="West">
                    <driver id="date">common.gui.components.GenericData</driver>
                    <parameters>
                      <arg attribute="Panel">false</arg>
                      <subarg>
                        <arg attribute="format">TEXT</arg>
                        <arg attribute="size">10</arg>
                        <arg attribute="maxlength">50</arg>
                        <arg attribute="enabled">false</arg>
                        <arg attribute="return">false</arg>
                        <arg attribute="foreground">0,0,0</arg>
                        <arg attribute="background">171,223,222</arg>
                        <arg attribute="clean">false</arg>
                        <arg attribute="exportValue">fechai</arg>
                        <arg attribute="alignment">RIGHT</arg>
                        <arg attribute="systemDate">yyyy-MM-dd</arg>
                        <arg attribute="printable">true</arg>
                      </subarg>
                    </parameters>
                  </component>                  
                  <component locate="Center">
                    <driver id="nro_fact">client.gui.components.TableDataFields</driver>
                    <parameters>
                      <arg attribute="Panel">false</arg>
                      <subarg>
                        <arg attribute="format">TEXT</arg>
                        <arg attribute="size">10</arg>
                        <arg attribute="maxlength">26</arg>
                        <arg attribute="enabled">false</arg>
                        <arg attribute="clean">false</arg>
                        <arg attribute="font">Dialog,0,14</arg>
                        <arg attribute="foreground">249,87,87</arg>
                        <arg attribute="background">171,223,222</arg>
                        <arg attribute="alignment">RIGHT</arg>
                        <arg attribute="idAutoDocument">codigo_tipo</arg>
                      </subarg>
                    </parameters>
                  </component>
                  <component locate="Center">
                    <driver id="total">client.gui.components.TableDataFields</driver>
                    <parameters>
                      <arg attribute="Panel">false</arg>
                      <subarg>
                        <arg attribute="format">NUMERIC</arg>
                        <arg attribute="size">11</arg>
                        <arg attribute="maxlength">26</arg>
                        <arg attribute="enabled">false</arg>
                        <arg attribute="font">Dialog,1,14</arg>
                        <arg attribute="foreground">0,0,0</arg>
                        <arg attribute="background">171,223,222</arg>
                        <arg attribute="alignment">RIGHT</arg>
                        <arg attribute="calculateExportValue">totalfact-(trfuente+triva+trica)</arg>
                      </subarg>
                    </parameters>
                  </component>
                  <component locate="Center">
                    <driver id="totalcantidad">client.gui.components.TableDataFields</driver>
                    <parameters>
                      <arg attribute="Panel">false</arg>
                      <subarg>
                        <arg attribute="format">NUMERIC</arg>
                        <arg attribute="size">11</arg>
                        <arg attribute="maxlength">26</arg>
                        <arg attribute="enabled">false</arg>
                        <arg attribute="font">Dialog,0,14</arg>
                        <arg attribute="foreground">0,0,0</arg>
                        <arg attribute="background">171,223,222</arg>
                        <arg attribute="alignment">RIGHT</arg>
                        <arg attribute="calculateExportValue">totalcantidades</arg>
                      </subarg>
                    </parameters>
                  </component>
                </panel>
              </panel>
            </panel>
          </panel>
        </panel>
      </panel>
    </panel>
  </panel>
  <component locate="Center">
    <driver id="principal">client.gui.components.TableFindData</driver>
    <parameters>
      <arg attribute="keySQL">LCSEL0966</arg>
      <arg attribute="driverEvent">client.gui.components.TableDataFields</arg>
      <arg attribute="importValue">idtercero</arg>
      <arg attribute="Query">SEL0071</arg>
      <arg attribute="defaultValue">2;1</arg>
      <arg attribute="rows">600</arg>
      <arg attribute="colorBackground">171,223,222</arg>
      <arg attribute="colorSelected">114,126,255</arg>
      <arg attribute="protectSelected">true</arg>
      <arg attribute="externalValue">totalValuesDescuento,client.gui.components.TableDataFields,ar</arg>
      <arg attribute="totales">c,g,h,i,j,k,p,r,s,t,u,v,w,x,y,z,ac</arg>    
      
        <arg attribute="exportTotalCol">c,totalcantidades</arg>
        <arg attribute="exportTotalCol">g,stotal</arg>
        <arg attribute="exportTotalCol">i,neto</arg>
        <arg attribute="exportTotalCol">j,tiva</arg>
        <arg attribute="exportTotalCol">z,netosinbolsa</arg>
        <arg attribute="exportTotalCol">ac,subtotalsinbolsa</arg>

        <arg attribute="exportTotalCol">r,stotalcinco</arg>
        <arg attribute="exportTotalCol">s,tivacinco</arg>
        <arg attribute="exportTotalCol">t,stotaldiezynueve</arg>
        <arg attribute="exportTotalCol">u,tivadiezynueve</arg>
        <arg attribute="exportTotalCol">v,stotalexento</arg>
        <arg attribute="exportTotalCol">w,tivaexento</arg>
        <arg attribute="exportTotalCol">x,stotalexcluido</arg>
        <arg attribute="exportTotalCol">y,tivaexcluido</arg>
        <arg attribute="exportTotalCol">p,verde</arg>      

      <arg attribute="beanshell">f="28312".equals(l)||aa&gt;0?0:ar!=0?ar:f</arg>


        <!-- <arg attribute="formula">g=(c*d)/(1+(e/100))</arg> subtotal
        <arg attribute="formula">h=((c*d)*f/100)</arg> descuento
        <arg attribute="formula">k=(c*d)-h</arg> total
        <arg attribute="formula">i=(c*d-h)/(1+(e/100))</arg> neto
        <arg attribute="formula">j=k-i</arg> iva -->

        <arg attribute="beanshell">g=aa&lt;0?(c*d)/(1+(e/100.0)):((d-(ab*(aa/100.0)))*c)/(1+(e/100.0))</arg> <!-- subtotal -->
        <arg attribute="formula">h=((c*d)*f/100.0)</arg> <!-- descuento -->
        <arg attribute="formula">k=(c*d)-h</arg> <!-- total -->
        <arg attribute="beanshell">i=aa&lt;0?(c*d-h)/(1+(e/100.0)):(((d-(ab*(aa/100.0)))*c)-h)/(1+(e/100.0))</arg> <!-- neto -->
        <arg attribute="beanshell">j=aa&lt;0?k-i:(((d-(ab*(aa/100.0)))*c)-h)-i</arg> <!-- iva -->
        
        <arg attribute="formula">m=d-(d*(f/100))</arg> <!-- vlr unitario imp -->    

        <arg attribute="beanshell">p="28312".equals(l)?(c*d):aa&gt;0?(ab*(aa/100.0))*c:0</arg> <!-- verde -->
        <arg attribute="beanshell">r=q=="10"?i:0</arg> <!-- base 5% -->
        <arg attribute="beanshell">s=q=="10"?j:0</arg> <!-- IVA 5% -->
        <arg attribute="beanshell">t=q=="5"?i:0</arg> <!-- base 19% -->
        <arg attribute="beanshell">u=q=="5"?j:0</arg> <!-- IVA 19% -->
        <arg attribute="beanshell">v=q=="13"&amp;&amp;!&quot;28312&quot;.equals(l)?i:0</arg> <!-- base exento -->
        <arg attribute="beanshell">w=q=="13"?j:0</arg> <!-- IVA exento -->
        <arg attribute="beanshell">x=q=="12"&amp;&amp;!&quot;28312&quot;.equals(l)?i:0</arg> <!-- base excluido -->
        <arg attribute="beanshell">y=q=="12"?j:0</arg> <!-- IVA excluido -->

        <arg attribute="beanshell">z="28312".equals(l)?0:aa&gt;=0?g:(g-h)</arg> <!-- neto sin bolsa -->
        <arg attribute="beanshell">ac="28312".equals(l)?0:g</arg> <!-- subtotal sin bolsa -->

      <subarg>
        <!-- a 0 -->
        <arg attribute="name">CODE</arg>
        <arg attribute="length">155</arg>
        <arg attribute="type">DATASEARCH</arg>
        <arg attribute="sqlCombo">DGSEL0170</arg>
        <arg attribute="keyDataSearch">searchp</arg>
        <arg attribute="repeatData">1</arg>
        <arg attribute="noDataBeep">true</arg>
        <arg attribute="noDataMessage">No se encontro registros</arg>
        <arg attribute="selectedIndex">1</arg>
        <arg attribute="enabled">true</arg>
      </subarg>
      <!-- b 1 -->
      <subarg>
        <arg attribute="name">DESCRIPCION</arg>
        <arg attribute="length">220</arg>
        <arg attribute="type">STRING</arg>
        <arg attribute="enabled">false</arg>
        <arg attribute="queryCol">1</arg>
        <arg attribute="printable">true</arg>
      </subarg>
      <!-- c 2 -->
      <subarg>
        <arg attribute="name">CANTIDAD</arg>
        <arg attribute="length">70</arg>
        <arg attribute="type">INTEGER</arg>
        <arg attribute="enabled">true</arg>
        <arg attribute="returnCol">1</arg>
        <arg attribute="defaultValue">1</arg>
        <arg attribute="nameField">Cantidad</arg>
        <arg attribute="printable">true</arg>
        <arg attribute="minValue">0</arg>
      </subarg>
      <!-- d 3 -->
      <subarg>
        <arg attribute="name">VUNITARIO</arg>
        <arg attribute="length">80</arg>
        <arg attribute="type">DECIMAL</arg>
        <arg attribute="roundDecimal">0</arg>
        <arg attribute="enabled">true</arg>
        <arg attribute="queryCol">2</arg>
        <arg attribute="returnCol">2</arg>
        <arg attribute="printable">true</arg>
        <arg attribute="minValue">0</arg>
      </subarg>
      <!-- e 4 -->
      <subarg>
        <arg attribute="name">PIVA</arg>
        <arg attribute="length">50</arg>
        <arg attribute="type">DECIMAL</arg>
        <arg attribute="roundDecimal">0</arg>
        <arg attribute="enabled">false</arg>
        <arg attribute="queryCol">3</arg>
        <arg attribute="returnCol">3</arg>        
        <arg attribute="printable">true</arg>
      </subarg>
      <!-- f 5 -->
      <subarg>
        <arg attribute="name">PDCTO</arg>
        <arg attribute="length">50</arg>
        <arg attribute="type">DECIMAL</arg>
        <arg attribute="roundDecimal">0</arg>
        <arg attribute="enabled">true</arg>
        <arg attribute="returnCol">4</arg>
        <arg attribute="printable">true</arg>
      </subarg>
      <!-- g 6 -->
      <subarg>
        <arg attribute="name">STOTAL</arg>
        <arg attribute="length">90</arg>
        <arg attribute="type">DECIMAL</arg>
        <arg attribute="roundDecimal">2</arg>
        <arg attribute="enabled">false</arg>
        <arg attribute="returnCol">7</arg>
        <arg attribute="minValue">0</arg>
      </subarg>
      <!-- h 7 -->
      <subarg>
        <arg attribute="name">DESCUENTO</arg>
        <arg attribute="length">80</arg>
        <arg attribute="type">DECIMAL</arg>
        <arg attribute="roundDecimal">0</arg>
        <arg attribute="enabled">false</arg>
      </subarg>
      <!-- i 8 -->
      <subarg>
        <arg attribute="name">NETO</arg>
        <arg attribute="length">90</arg>
        <arg attribute="type">DECIMAL</arg>
        <arg attribute="roundDecimal">2</arg>
        <arg attribute="enabled">false</arg>
        <arg attribute="returnCol">6</arg>
      </subarg>
      <!-- j 9 -->
      <subarg>
        <arg attribute="name">TIVA</arg>
        <arg attribute="length">90</arg>
        <arg attribute="type">DECIMAL</arg>
        <arg attribute="roundDecimal">2</arg>
        <arg attribute="enabled">false</arg>
        <arg attribute="returnCol">5</arg>        
      </subarg>
      <!-- k 10 -->
      <subarg>
        <arg attribute="name">TOTAL</arg>
        <arg attribute="length">90</arg>
        <arg attribute="type">DECIMAL</arg>
        <arg attribute="roundDecimal">0</arg>
        <arg attribute="enabled">false</arg>
        <arg attribute="returnCol">8</arg>
        <arg attribute="printable">true</arg>
      </subarg>
      <!-- l 11 -->
      <subarg>
        <arg attribute="name">ID</arg>
        <arg attribute="length">10</arg>
        <arg attribute="type">STRING</arg>
        <arg attribute="enabled">false</arg>
        <arg attribute="queryCol">0</arg>
        <arg attribute="returnCol">0</arg>
        <arg attribute="nameField">idProducto</arg>
      </subarg>
      <!-- m 12  -->
      <subarg>
        <arg attribute="name">vlrunitarioimpr</arg>
        <arg attribute="length">50</arg>
        <arg attribute="type">DECIMAL</arg>
        <arg attribute="roundDecimal">0</arg>
        <arg attribute="enabled">false</arg>
        <arg attribute="printable">true</arg>
      </subarg>        
      <!-- n 13 -->
      <subarg>
        <arg attribute="name">codigo</arg>
        <arg attribute="length">220</arg>
        <arg attribute="type">STRING</arg>
        <arg attribute="enabled">false</arg>
        <arg attribute="queryCol">6</arg>
        <arg attribute="printable">true</arg>
      </subarg>      
      <!-- o 14 -->
      <subarg>
        <arg attribute="name">referencia</arg>
        <arg attribute="length">220</arg>
        <arg attribute="type">STRING</arg>
        <arg attribute="enabled">false</arg>
        <arg attribute="queryCol">7</arg>
        <arg attribute="printable">true</arg>
      </subarg>  

            <!-- p 15 -->
          <subarg>
            <arg attribute="name">VERDE</arg>
            <arg attribute="length">162</arg>
            <arg attribute="type">DECIMAL</arg>
            <arg attribute="roundDecimal">2</arg>
            <arg attribute="returnCol">9</arg>
            <arg attribute="enabled">false</arg>
          </subarg>
          <!-- q 16  id asiento generico para poder compararlo en la formula como string -->
          <subarg>
            <arg attribute="name">idasientostring</arg>
            <arg attribute="length">0</arg>
            <arg attribute="type">STRING</arg>
            <arg attribute="queryCol">8</arg>
            <arg attribute="enabled">false</arg>
            <arg attribute="nameField">idasientogenerico</arg>
          </subarg>          
          <!-- r 17 -->
          <subarg>
            <arg attribute="name">basecinco</arg>
            <arg attribute="length">50</arg>
            <arg attribute="type">DECIMAL</arg>
            <arg attribute="roundDecimal">2</arg>
            <arg attribute="enabled">false</arg>
          </subarg>
          <!-- s 18 -->
          <subarg>
            <arg attribute="name">tivacinco</arg>
            <arg attribute="length">50</arg>
            <arg attribute="type">DECIMAL</arg>
            <arg attribute="roundDecimal">2</arg>
            <arg attribute="enabled">false</arg>
          </subarg>
          <!-- t 19 -->
          <subarg>
            <arg attribute="name">basediezynueve</arg>
            <arg attribute="length">50</arg>
            <arg attribute="type">DECIMAL</arg>
            <arg attribute="roundDecimal">2</arg>
            <arg attribute="enabled">false</arg>
          </subarg>
          <!-- u 20 -->
          <subarg>
            <arg attribute="name">tivadiezynueve</arg>
            <arg attribute="length">50</arg>
            <arg attribute="type">DECIMAL</arg>
            <arg attribute="roundDecimal">2</arg>
            <arg attribute="enabled">false</arg>
          </subarg>
          <!-- v 21 -->
          <subarg>
            <arg attribute="name">baseexento</arg>
            <arg attribute="length">50</arg>
            <arg attribute="type">DECIMAL</arg>
            <arg attribute="roundDecimal">2</arg>
            <arg attribute="enabled">false</arg>
          </subarg>
          <!-- w 22 -->
          <subarg>
            <arg attribute="name">tivaexento</arg>
            <arg attribute="length">50</arg>
            <arg attribute="type">DECIMAL</arg>
            <arg attribute="roundDecimal">2</arg>
            <arg attribute="enabled">false</arg>
          </subarg>
          <!-- x 23 -->
          <subarg>
            <arg attribute="name">baseexcluido</arg>
            <arg attribute="length">50</arg>
            <arg attribute="type">DECIMAL</arg>
            <arg attribute="roundDecimal">2</arg>
            <arg attribute="enabled">false</arg>
          </subarg>
          <!-- y 24 -->
          <subarg>
            <arg attribute="name">tivaexluido</arg>
            <arg attribute="length">50</arg>
            <arg attribute="type">DECIMAL</arg>
            <arg attribute="roundDecimal">2</arg>
            <arg attribute="enabled">false</arg>
          </subarg>  
          <!-- z 25  -->
          <subarg>
            <arg attribute="name">subtotalsinbolsa</arg>
            <arg attribute="length">50</arg>
            <arg attribute="type">DECIMAL</arg>
            <arg attribute="roundDecimal">2</arg>
            <arg attribute="enabled">false</arg>
          </subarg>  
          <!-- aa 26 -->
          <subarg>
              <arg attribute="name">porcentajebp</arg>
              <arg attribute="length">10</arg>
              <arg attribute="type">DECIMAL</arg>
              <arg attribute="roundDecimal">2</arg>
              <arg attribute="enabled">false</arg>
              <arg attribute="queryCol">9</arg>
              <arg attribute="returnCol">10</arg>
          </subarg>
          <!-- ab 27 -->
          <subarg>
              <arg attribute="name">inc</arg>
              <arg attribute="length">10</arg>
              <arg attribute="type">DECIMAL</arg>
              <arg attribute="roundDecimal">2</arg>
              <arg attribute="enabled">false</arg>
              <arg attribute="queryCol">10</arg>
              <arg attribute="returnCol">11</arg>
          </subarg>
          <!-- ac 28  -->
          <subarg>
            <arg attribute="name">netosinbolsa</arg>
            <arg attribute="length">50</arg>
            <arg attribute="type">DECIMAL</arg>
            <arg attribute="roundDecimal">2</arg>
            <arg attribute="enabled">false</arg>
          </subarg>  
    </parameters>
  </component>
  <panel locate="South" type="BorderLayout">
    <panel locate="West" type="FlowLayout" />
    <panel locate="East" type="BorderLayout">
      <box locate="East" width="10" />
      <panel locate="Center" type="BorderLayout">
      <component locate="North">
        <driver id="totalValuesDescuento">client.gui.components.TableDataFields</driver>
        <parameters>
          <arg attribute="Panel">false</arg>
          <arg attribute="linkTable">principal</arg>
          <subarg>
            <arg attribute="label">Aplicar % Desc   </arg>
            <arg attribute="format">NUMERIC</arg>
            <arg attribute="size">10</arg>
            <arg attribute="maxlength">26</arg>
            <arg attribute="alignment">RIGHT</arg>
            <arg attribute="exportValue">pdescuentoglobal</arg>
            <arg attribute="keyExternalValue">ar</arg>
            <arg attribute="return">false</arg>
            <arg attribute="nullValue">true</arg>
            <arg attribute="background">171,223,222</arg>
          </subarg>
        </parameters>
      </component>
      <component locate="Center">
        <driver id="totalValues">client.gui.components.TableDataFields</driver>
        <parameters>
          <arg attribute="Panel">false</arg>
          <arg attribute="linkTable">principal</arg>
          <subarg>
            <arg attribute="label">STOTAL</arg>
            <arg attribute="format">NUMERIC</arg>
            <arg attribute="size">10</arg>
            <arg attribute="maxlength">26</arg>
            <arg attribute="enabled">false</arg>
            <arg attribute="alignment">RIGHT</arg>
            <arg attribute="return">false</arg>
            <arg attribute="foreground">0,0,0</arg>
            <arg attribute="background">171,223,222</arg>
            <arg attribute="calculateExportValue">subtotalsinbolsa</arg>
            <arg attribute="printable">true</arg>
          </subarg>
          <subarg>
            <arg attribute="label">TDCTO</arg>
            <arg attribute="format">NUMERIC</arg>
            <arg attribute="size">10</arg>
            <arg attribute="maxlength">26</arg>
            <arg attribute="enabled">false</arg>
            <arg attribute="alignment">RIGHT</arg>
            <arg attribute="totalCol">h</arg>
            <arg attribute="exportValue">vdescuentoglobal</arg>
            <arg attribute="return">false</arg>
            <arg attribute="foreground">0,0,0</arg>
            <arg attribute="background">171,223,222</arg>
            <arg attribute="printable">true</arg>
          </subarg>
          <subarg>
            <arg attribute="label">NETO</arg>
            <arg attribute="format">NUMERIC</arg>
            <arg attribute="background">114,141,171</arg>
            <arg attribute="size">10</arg>
            <arg attribute="maxlength">26</arg>
            <arg attribute="enabled">false</arg>
            <arg attribute="alignment">RIGHT</arg>
            <arg attribute="return">false</arg>
            <arg attribute="calculateExportValue">netosinbolsa</arg>
            <arg attribute="foreground">0,0,0</arg>
            <arg attribute="background">171,223,222</arg>
          </subarg>
          <subarg>
            <arg attribute="label">IVA</arg>
            <arg attribute="format">NUMERIC</arg>
            <arg attribute="size">10</arg>
            <arg attribute="maxlength">26</arg>
            <arg attribute="enabled">false</arg>
            <arg attribute="alignment">RIGHT</arg>
            <arg attribute="exportValue">ivaglobal</arg>
            <arg attribute="totalCol">j</arg>
            <arg attribute="return">false</arg>
            <arg attribute="background">171,223,222</arg>
            <arg attribute="foreground">0,0,0</arg>
            <arg attribute="printable">true</arg>
          </subarg>
          <subarg>
            <arg attribute="label">INC</arg>
            <arg attribute="format">NUMERIC</arg>
            <arg attribute="size">10</arg>
            <arg attribute="maxlength">26</arg>
            <arg attribute="enabled">false</arg>
            <arg attribute="alignment">RIGHT</arg>
            <arg attribute="totalCol">p</arg>
            <arg attribute="return">false</arg>
            <arg attribute="foreground">0,0,0</arg>
            <arg attribute="background">171,223,222</arg>
            <arg attribute="printable">true</arg>
          </subarg>
          <subarg>
            <arg attribute="label">TOTAL</arg>
            <arg attribute="format">NUMERIC</arg>
            <arg attribute="size">10</arg>
            <arg attribute="maxlength">26</arg>
            <arg attribute="exportValue">totalfact</arg>
            <arg attribute="enabled">false</arg>
            <arg attribute="alignment">RIGHT</arg>
            <arg attribute="totalCol">k</arg>
            <arg attribute="foreground">0,0,0</arg>
            <arg attribute="background">171,223,222</arg>
            <arg attribute="return">false</arg>
            <arg attribute="printable">true</arg>
          </subarg>
          <subarg>
            <arg attribute="label">RETENCIONES</arg>
            <arg attribute="format">NUMERIC</arg>
            <arg attribute="size">10</arg>
            <arg attribute="maxlength">26</arg>
            <arg attribute="calculateExportValue">trfuente+triva+trica</arg>
            <arg attribute="enabled">false</arg>
            <arg attribute="alignment">RIGHT</arg>
            <arg attribute="foreground">0,0,0</arg>
            <arg attribute="background">171,223,222</arg>
            <arg attribute="return">false</arg>
            <arg attribute="printable">true</arg>
          </subarg>
          <subarg>
            <arg attribute="label">TOTALMRET</arg>
            <arg attribute="format">NUMERIC</arg>
            <arg attribute="size">10</arg>
            <arg attribute="maxlength">26</arg>
            <arg attribute="calculateExportValue">totalfact-(trfuente+triva+trica)</arg>
            <arg attribute="enabled">false</arg>
            <arg attribute="alignment">RIGHT</arg>
            <arg attribute="foreground">0,0,0</arg>
            <arg attribute="background">171,223,222</arg>
            <arg attribute="printable">true</arg>
          </subarg>
        </parameters>
      </component>
    </panel>
    </panel>
    <panel locate="Center" type="BorderLayout">
      <panel locate="East" type="FlowLayout" />
      <component locate="North">
        <driver>common.gui.components.XMLLabel</driver>
        <parameters>
          <arg attribute="text">Observaciones</arg>
          <arg attribute="alignment">0</arg>
        </parameters>
      </component>
      <component locate="Center">
        <driver>common.gui.components.XMLTextArea</driver>
          <parameters>
            <arg attribute="rows">100</arg>
            <arg attribute="cols">300</arg>
          </parameters>          
      </component>


      <component locate="South">
        <driver>common.gui.components.ButtonsPanel</driver>
        <parameters>
          <subarg>
            <arg attribute="label">PAGO</arg>
            <arg attribute="icon">/icons/ico_conciliaciones.png</arg>
            <arg attribute="keyStroke">F8</arg>
          </subarg>
          <arg>NEW</arg>
          <arg>EXIT</arg>
        </parameters>
        <events>
          <object>
            <name>PAGO</name>
            <component>
              <driver>gfforma</driver>
              <method>setVisible</method>
              <parameters>
                <arg>TRUE</arg>
              </parameters>
            </component>
          </object>
          <object>
            <name>NEW</name>
            <!--  Limpiando tablas de retenciones  -->
            <component>
              <driver id="principal">client.gui.components.TableFindData</driver>
              <method>clean</method>
            </component>            
            <component>
              <driver id="base">client.gui.components.TableFindData</driver>
              <method>clean</method>
            </component>
            <component>
              <driver id="tretbase">client.gui.components.TableDataFields</driver>
              <method>clean</method>
            </component>
            <component>
              <driver id="retiva">client.gui.components.TableFindData</driver>
              <method>clean</method>
            </component>
            <component>
              <driver id="tretiva">client.gui.components.TableDataFields</driver>
              <method>clean</method>
            </component>
            <component>
              <driver id="retica">client.gui.components.TableFindData</driver>
              <method>clean</method>
            </component>
            <component>
              <driver id="tretica">client.gui.components.TableDataFields</driver>
              <method>clean</method>
            </component>
            <component>
              <driver id="tipo_doc">client.gui.components.XMLComboBox</driver>
              <method>clean</method>
            </component>
            <component>
              <driver id="total">client.gui.components.TableDataFields</driver>
              <method>clean</method>
            </component>
            <component>
              <driver id="totalValues">client.gui.components.TableDataFields</driver>
              <method>clean</method>
            </component>
            <component>
              <driver id="totalValuesDescuento">client.gui.components.TableDataFields</driver>
              <method>clean</method>
            </component>
            
            <component>
              <driver>common.gui.components.XMLTextArea</driver>
              <method>clean</method>
            </component>
            <!--  limpiando llaves externas -->
            <component>
              <driver>this</driver>
              <method>cleanExternalValues</method>
            </component>
            <!--  Estos componentes exportan valores, por eso debe ir despues de
              limpiar las llaves externas -->
            <component>
              <driver>client.gui.components.FindThird</driver>
              <method>clean</method>
            </component>              
            <component>
              <driver id="Vendedor">client.gui.components.XMLComboBox</driver>
              <method>clean</method>
            </component>
            <component>
              <driver id="date">common.gui.components.GenericData</driver>
              <method>clean</method>
            </component>
            <component>
              <driver id="pago">common.gui.components.ButtonsPanel</driver>
              <method>setEnabled</method>
              <parameters>
                <arg attribute="button">PRINT</arg>
                <arg attribute="state">true</arg>
              </parameters>
            </component>
          </object>
        </events>
      </component>
    </panel>
  </panel>
  <!--  Panel Oculto de Retenciones -->
  <FORM>
    <preferences>
      <size width="675" height="500" />
      <name>PAYMENTFORM</name>
      <icon>PAGO</icon>
      <iconificable />
      <resizable />
      <closable />
      <id>gfforma</id>
      <visible>false</visible>
    </preferences>
    <!--  Componente Oculto -->

    <panel locate="West" type="FlowLayout" />
    <panel locate="East" type="FlowLayout" />
    <tab locate="Center" id="fpago">
      <panel name="GENERAL" icon="PAGO" type="BorderLayout">
        <panel locate="West" type="FlowLayout" />
        <panel locate="East" type="FlowLayout" />
        <box locate="North" length="50" />
        <panel locate="South" type="FlowLayout" />
        <panel locate="Center" type="FlowLayout" align="center">
          <panel locate="Center" type="BorderLayout">
            <panel locate="West" type="GridLayout" rows="6" cols="1">
              <component locate="North">
                <driver>common.gui.components.XMLLabel</driver>
                <parameters>
                  <arg attribute="text">TOTAL</arg>
                  <arg attribute="alignment">0</arg>
                  <arg attribute="font">Dialog,1,16</arg>
                </parameters>
              </component>
              <component locate="North">
                <driver>common.gui.components.XMLLabel</driver>
                <parameters>
                  <arg attribute="text">Total Retenciones</arg>
                  <arg attribute="alignment">0</arg>
                  <arg attribute="font">Dialog,1,16</arg>
                </parameters>
              </component>
              <component locate="North">
                <driver>common.gui.components.XMLLabel</driver>
                <parameters>
                  <arg attribute="text">- Retencion en la Fuente</arg>
                  <arg attribute="alignment">0</arg>
                  <arg attribute="font">Dialog,0,16</arg>
                </parameters>
              </component>
              <component locate="North">
                <driver>common.gui.components.XMLLabel</driver>
                <parameters>
                  <arg attribute="text">- Retencion de I.V.A</arg>
                  <arg attribute="alignment">0</arg>
                  <arg attribute="font">Dialog,0,16</arg>
                </parameters>
              </component>
              <component locate="North">
                <driver>common.gui.components.XMLLabel</driver>
                <parameters>
                  <arg attribute="text">- Retencion de I.C.A.</arg>
                  <arg attribute="alignment">0</arg>
                  <arg attribute="font">Dialog,0,16</arg>
                </parameters>
              </component>
              <component locate="North">
                <driver>common.gui.components.XMLLabel</driver>
                <parameters>
                  <arg attribute="text">Total Factura Compra</arg>
                  <arg attribute="alignment">0</arg>
                  <arg attribute="font">Dialog,1,16</arg>
                </parameters>
              </component>
            </panel>
            <panel locate="Center" type="GridLayout" rows="6" cols="2">
              <panel type="FlowLayout" />
              <component locate="Center">
                <driver id="tfacprov">client.gui.components.TableDataFields</driver>
                <parameters>
                  <arg attribute="Panel">false</arg>
                  <subarg>
                    <arg attribute="name">TOTAL</arg>
                    <arg attribute="format">NUMERIC</arg>
                    <arg attribute="size">10</arg>
                    <arg attribute="maxlength">26</arg>
                    <arg attribute="enabled">false</arg>
                    <arg attribute="calculateExportValue">gtrans+gvarios+totalfact</arg>
                    <arg attribute="exportValue">totalfprov</arg>
                    <arg attribute="font">Dialog,0,18</arg>
                    <arg attribute="alignment">RIGHT</arg>
                    <arg attribute="foreground">194,202,230</arg>
                    <arg attribute="background">0,0,0</arg>
                  </subarg>
                </parameters>
              </component>
              <panel type="FlowLayout" />
              <component locate="Center">
                <driver id="tretenciones">client.gui.components.TableDataFields</driver>
                <parameters>
                  <arg attribute="Panel">false</arg>
                  <subarg>
                    <arg attribute="name">TRETENCIONES</arg>
                    <arg attribute="format">NUMERIC</arg>
                    <arg attribute="size">10</arg>
                    <arg attribute="maxlength">26</arg>
                    <arg attribute="enabled">false</arg>
                    <arg attribute="font">Dialog,0,18</arg>
                    <arg attribute="alignment">RIGHT</arg>
                    <arg attribute="foreground">194,202,230</arg>
                    <arg attribute="background">0,0,0</arg>
                    <arg attribute="calculateExportValue">retfte+retiva+retica</arg>
                  </subarg>
                </parameters>
              </component>
              <component locate="Center">
                <driver id="tretfte">client.gui.components.TableDataFields</driver>
                <parameters>
                  <arg attribute="Panel">false</arg>
                  <arg attribute="linkTable">base</arg>
                  <subarg>
                    <arg attribute="name">RETFTE</arg>
                    <arg attribute="format">NUMERIC</arg>
                    <arg attribute="size">10</arg>
                    <arg attribute="maxlength">26</arg>
                    <arg attribute="totalCol">e</arg>
                    <arg attribute="enabled">false</arg>
                    <arg attribute="font">Dialog,0,18</arg>
                    <arg attribute="alignment">RIGHT</arg>
                    <arg attribute="foreground">194,202,230</arg>
                    <arg attribute="background">0,0,0</arg>
                    <arg attribute="exportValue">retfte</arg>
                  </subarg>
                </parameters>
              </component>
              <panel type="FlowLayout" />
              <component locate="Center">
                <driver id="tretiva">client.gui.components.TableDataFields</driver>
                <parameters>
                  <arg attribute="Panel">false</arg>
                  <arg attribute="linkTable">retiva</arg>
                  <subarg>
                    <arg attribute="name">RETIVA</arg>
                    <arg attribute="format">NUMERIC</arg>
                    <arg attribute="size">10</arg>
                    <arg attribute="maxlength">26</arg>
                    <arg attribute="totalCol">e</arg>
                    <arg attribute="enabled">false</arg>
                    <arg attribute="font">Dialog,0,18</arg>
                    <arg attribute="alignment">RIGHT</arg>
                    <arg attribute="foreground">194,202,230</arg>
                    <arg attribute="background">0,0,0</arg>
                    <arg attribute="exportValue">retiva</arg>
                  </subarg>
                </parameters>
              </component>
              <panel type="FlowLayout" />
              <component locate="Center">
                <driver id="tretica">client.gui.components.TableDataFields</driver>
                <parameters>
                  <arg attribute="Panel">false</arg>
                  <arg attribute="linkTable">retica</arg>
                  <subarg>
                    <arg attribute="name">RETICA</arg>
                    <arg attribute="format">NUMERIC</arg>
                    <arg attribute="size">10</arg>
                    <arg attribute="maxlength">26</arg>
                    <arg attribute="enabled">false</arg>
                    <arg attribute="font">Dialog,0,18</arg>
                    <arg attribute="alignment">RIGHT</arg>
                    <arg attribute="foreground">194,202,230</arg>
                    <arg attribute="background">0,0,0</arg>
                    <arg attribute="exportValue">retica</arg>
                    <arg attribute="totalCol">e</arg>
                  </subarg>
                </parameters>
              </component>
              <panel type="FlowLayout" />
              <panel type="FlowLayout" />
              <component locate="Center">
                <driver id="vpago">common.gui.components.GenericData</driver>
                <parameters>
                  <arg attribute="Panel">false</arg>
                  <subarg>
                    <arg attribute="name">VR_PAGAR</arg><!--aqui-->
                    <arg attribute="format">NUMERIC</arg>
                    <arg attribute="size">10</arg>
                    <arg attribute="maxlength">26</arg>
                    <arg attribute="calculateExportValue">(gtrans+gvarios+totalfact)-(trfuente+triva+trica)</arg>
                    <arg attribute="font">Dialog,0,18</arg>
                    <arg attribute="alignment">RIGHT</arg>
                    <arg attribute="foreground">194,202,230</arg>
                    <arg attribute="background">0,0,0</arg>
                    <arg attribute="enabled">false</arg>
                    <arg attribute="exportValue">vrpag</arg>
                  </subarg>
                </parameters>
              </component>
            </panel>
          </panel>
        </panel>
      </panel>
      <panel name="RETENCIONES" icon="RETENCIONES" type="BorderLayout">
        <panel locate="Center" type="GridLayout" rows="3" cols="1">
          <panel locate="Center" type="BorderLayout">
            <component locate="North">
              <driver>common.gui.components.XMLLabel</driver>
              <parameters>
                <arg attribute="text">Retenciones en la Fuente</arg>
                <arg attribute="alignment">0</arg>
              </parameters>
            </component>
            <component locate="Center">
              <driver id="base">client.gui.components.TableFindData</driver>
              <parameters>
                <arg attribute="keySQL">LCSEL0200</arg>
                <arg attribute="driverEvent">client.gui.components.FindThird</arg>
                <arg attribute="rows">100</arg>
                <arg attribute="colorBackground">230,219,194</arg>
                <arg attribute="colorSelected">219,176,202</arg>

                <arg attribute="protectSelected">true</arg>
                <arg attribute="totales">e</arg>
                <arg attribute="returnNullValue">true</arg>
                <arg attribute="importTotalCol">w,netosinbolsa</arg>
                <arg attribute="beanshell">e=w&gt;c?(w*d)/100:0</arg>
                <arg attribute="formula">g=w</arg>
                <arg attribute="enabled">false</arg>
                <subarg>
                  <arg attribute="name">CUENTA</arg>
                  <arg attribute="length">100</arg>
                  <arg attribute="type">STRING</arg>
                  <arg attribute="enabled">true</arg>
                  <arg attribute="returnCol">0</arg>
                </subarg>
                <subarg>
                  <arg attribute="name">NAME</arg>
                  <arg attribute="length">240</arg>
                  <arg attribute="type">STRING</arg>
                  <arg attribute="enabled">false</arg>
                </subarg>
                <subarg>
                  <arg attribute="name">BASE</arg>
                  <arg attribute="length">90</arg>
                  <arg attribute="type">DECIMAL</arg>
                  <arg attribute="enabled">false</arg>
                  <arg attribute="returnCol">3</arg>
                </subarg>
                <subarg>
                  <arg attribute="name">%</arg>
                  <arg attribute="length">70</arg>
                  <arg attribute="type">DECIMAL</arg>
                  <arg attribute="enabled">false</arg>
                  <arg attribute="returnCol">4</arg>
                </subarg>
                <subarg>
                  <arg attribute="name">VALUE</arg>
                  <arg attribute="length">120</arg>
                  <arg attribute="type">INTEGER</arg>
                  <arg attribute="enabled">false</arg>
                  <arg attribute="returnCol">1</arg>
                  <arg attribute="importValue">netosinbolsa</arg>
                </subarg>
                <subarg>
                  <arg attribute="name">id_cta</arg>
                  <arg attribute="length">0</arg>
                  <arg attribute="type">INTEGER</arg>
                  <arg attribute="enabled">false</arg>
                  <arg attribute="returnCol">2</arg>
                </subarg>
                <subarg>
                  <arg attribute="name">VALORBASE</arg>
                  <arg attribute="length">90</arg>
                  <arg attribute="type">DECIMAL</arg>
                  <arg attribute="enabled">false</arg>
                  <arg attribute="returnCol">5</arg>
                </subarg>          
                <subarg>
                  <arg attribute="name">IDRETENCIONTAX</arg>
                  <arg attribute="length">100</arg>
                  <arg attribute="type">STRING</arg>
                  <arg attribute="enabled">true</arg>
                  <arg attribute="returnCol">0</arg>
                  <arg attribute="returnCol">6</arg>
                </subarg>                                      
              </parameters>
            </component>
            <panel locate="South" type="BorderLayout">
              <component locate="East">
                <driver id="tretbase">client.gui.components.TableDataFields</driver>
                <parameters>
                  <arg attribute="Panel">false</arg>
                  <arg attribute="linkTable">base</arg>
                  <subarg>
                    <arg attribute="label">TOTAL</arg>
                    <arg attribute="format">NUMERIC</arg>
                    <arg attribute="size">15</arg>
                    <arg attribute="maxlength">26</arg>
                    <arg attribute="enabled">false</arg>
                    <arg attribute="alignment">RIGHT</arg>
                    <arg attribute="exportValue">trfuente</arg>
                    <arg attribute="totalCol">e</arg>
                    <arg attribute="returnNullValue">true</arg>
                  </subarg>
                </parameters>
              </component>
            </panel>
          </panel>
          <panel locate="Center" type="BorderLayout">
            <component locate="North">
              <driver>common.gui.components.XMLLabel</driver>
              <parameters>
                <arg attribute="text">Retenciones de I.V.A</arg>
                <arg attribute="alignment">0</arg>
              </parameters>
            </component>
            <component locate="Center">
              <driver id="retiva">client.gui.components.TableFindData</driver>
              <parameters>
                <arg attribute="keySQL">LCSEL0202</arg>
                <arg attribute="driverEvent">client.gui.components.FindThird</arg>
                <arg attribute="rows">100</arg>
                <arg attribute="colorBackground">230,219,194</arg>
                <arg attribute="colorSelected">219,176,202</arg>

                <arg attribute="protectSelected">true</arg>
                <arg attribute="totales">e</arg>
                <arg attribute="returnNullValue">true</arg>
                <arg attribute="importTotalCol">w,tiva</arg>
                <arg attribute="importTotalCol">q,netosinbolsa</arg>
                <arg attribute="beanshell">e=q&gt;c?(w*d)/100:0</arg>
                <arg attribute="formula">g=w</arg>
                <arg attribute="enabled">false</arg>
                <subarg>
                  <arg attribute="name">CUENTA</arg>
                  <arg attribute="length">100</arg>
                  <arg attribute="type">STRING</arg>
                  <arg attribute="enabled">true</arg>
                  <arg attribute="returnCol">0</arg>
                </subarg>
                <subarg>
                  <arg attribute="name">NAME</arg>
                  <arg attribute="length">240</arg>
                  <arg attribute="type">STRING</arg>
                  <arg attribute="enabled">false</arg>
                </subarg>
                <subarg>
                  <arg attribute="name">BASE</arg>
                  <arg attribute="length">90</arg>
                  <arg attribute="type">DECIMAL</arg>
                  <arg attribute="enabled">false</arg>
                  <arg attribute="returnCol">3</arg>
                </subarg>
                <subarg>
                  <arg attribute="name">%</arg>
                  <arg attribute="length">70</arg>
                  <arg attribute="type">DECIMAL</arg>
                  <arg attribute="enabled">false</arg>
                  <arg attribute="returnCol">4</arg>
                </subarg>
                <subarg>
                  <arg attribute="name">VALUE</arg>
                  <arg attribute="length">120</arg>
                  <arg attribute="type">INTEGER</arg>
                  <arg attribute="enabled">false</arg>
                  <arg attribute="returnCol">1</arg>
                  <arg attribute="importValue">netosinbolsa</arg>
                </subarg>
                <subarg>
                  <arg attribute="name">id_cta</arg>
                  <arg attribute="length">0</arg>
                  <arg attribute="type">INTEGER</arg>
                  <arg attribute="enabled">false</arg>
                  <arg attribute="returnCol">2</arg>
                </subarg>
                <subarg>
                  <arg attribute="name">VALORBASE</arg>
                  <arg attribute="length">90</arg>
                  <arg attribute="type">DECIMAL</arg>
                  <arg attribute="enabled">false</arg>
                  <arg attribute="returnCol">5</arg>
                </subarg>          
                <subarg>
                  <arg attribute="name">IDRETENCIONTAX</arg>
                  <arg attribute="length">100</arg>
                  <arg attribute="type">STRING</arg>
                  <arg attribute="enabled">true</arg>
                  <arg attribute="returnCol">0</arg>
                  <arg attribute="returnCol">6</arg>
                </subarg>                                      
              </parameters>
            </component>
            <panel locate="South" type="BorderLayout">
              <component locate="East">
                <driver id="tretiva">client.gui.components.TableDataFields</driver>
                <parameters>
                  <arg attribute="Panel">false</arg>
                  <arg attribute="linkTable">retiva</arg>
                  <subarg>
                    <arg attribute="label">TOTAL</arg>
                    <arg attribute="format">NUMERIC</arg>
                    <arg attribute="size">15</arg>
                    <arg attribute="maxlength">26</arg>
                    <arg attribute="enabled">false</arg>
                    <arg attribute="alignment">RIGHT</arg>
                    <arg attribute="totalCol">e</arg>
                    <arg attribute="exportValue">triva</arg>
                    <arg attribute="returnNullValue">true</arg>
                  </subarg>
                </parameters>
              </component>
            </panel>
          </panel>
          <panel locate="Center" type="BorderLayout">
            <component locate="North">
              <driver>common.gui.components.XMLLabel</driver>
              <parameters>
                <arg attribute="text">Retenciones de I.C.A.</arg>
                <arg attribute="alignment">0</arg>
              </parameters>
            </component>
            <component locate="Center">
              <driver id="retica">client.gui.components.TableFindData</driver>
              <parameters>
                <arg attribute="keySQL">LCSEL0203</arg>
                <arg attribute="driverEvent">client.gui.components.FindThird</arg>
                <arg attribute="rows">100</arg>
                <arg attribute="colorBackground">230,219,194</arg>
                <arg attribute="colorSelected">219,176,202</arg>
                <arg attribute="protectSelected">true</arg>
                <arg attribute="totales">e</arg>
                <arg attribute="returnNullValue">true</arg>
                <arg attribute="importTotalCol">w,netosinbolsa</arg>
                <arg attribute="beanshell">e=w&gt;c?(w*d)/100:0</arg>
                <arg attribute="formula">g=w</arg>
                <arg attribute="enabled">false</arg>
                <subarg>
                  <arg attribute="name">CUENTA</arg>
                  <arg attribute="length">100</arg>
                  <arg attribute="type">STRING</arg>
                  <arg attribute="enabled">true</arg>
                  <arg attribute="returnCol">0</arg>
                </subarg>
                <subarg>
                  <arg attribute="name">NAME</arg>
                  <arg attribute="length">240</arg>
                  <arg attribute="type">STRING</arg>
                  <arg attribute="enabled">false</arg>
                </subarg>
                <subarg>
                  <arg attribute="name">BASE</arg>
                  <arg attribute="length">90</arg>
                  <arg attribute="type">DECIMAL</arg>
                  <arg attribute="enabled">false</arg>
                  <arg attribute="returnCol">3</arg>
                </subarg>
                <subarg>
                  <arg attribute="name">%</arg>
                  <arg attribute="length">70</arg>
                  <arg attribute="type">DECIMAL</arg>
                  <arg attribute="enabled">false</arg>
                  <arg attribute="returnCol">4</arg>
                </subarg>
                <subarg>
                  <arg attribute="name">VALUE</arg>
                  <arg attribute="length">120</arg>
                  <arg attribute="type">INTEGER</arg>
                  <arg attribute="enabled">false</arg>
                  <arg attribute="returnCol">1</arg>
                  <arg attribute="importValue">netosinbolsa</arg>
                </subarg>
                <subarg>
                  <arg attribute="name">id_cta</arg>
                  <arg attribute="length">0</arg>
                  <arg attribute="type">INTEGER</arg>
                  <arg attribute="enabled">false</arg>
                  <arg attribute="returnCol">2</arg>
                </subarg>
                <subarg>
                  <arg attribute="name">VALORBASE</arg>
                  <arg attribute="length">90</arg>
                  <arg attribute="type">DECIMAL</arg>
                  <arg attribute="enabled">false</arg>
                  <arg attribute="returnCol">5</arg>
                </subarg>          
                <subarg>
                  <arg attribute="name">IDRETENCIONTAX</arg>
                  <arg attribute="length">100</arg>
                  <arg attribute="type">STRING</arg>
                  <arg attribute="enabled">true</arg>
                  <arg attribute="returnCol">0</arg>
                  <arg attribute="returnCol">6</arg>
                </subarg>                                      
              </parameters>
            </component>
            <panel locate="South" type="BorderLayout">
              <component locate="East">
                <driver id="tretica">client.gui.components.TableDataFields</driver>
                <parameters>
                  <arg attribute="Panel">false</arg>
                  <arg attribute="linkTable">retica</arg>
                  <subarg>
                    <arg attribute="label">TOTAL</arg>
                    <arg attribute="format">NUMERIC</arg>
                    <arg attribute="size">15</arg>
                    <arg attribute="maxlength">26</arg>
                    <arg attribute="enabled">false</arg>
                    <arg attribute="alignment">RIGHT</arg>
                    <arg attribute="totalCol">e</arg>
                    <arg attribute="exportValue">trica</arg>
                    <arg attribute="returnNullValue">true</arg>
                  </subarg>
                </parameters>
              </component>
            </panel>
          </panel>
        </panel>
      </panel>
    </tab>
    <panel locate="South" type="FlowLayout" />
    <component locate="South">
      <driver id="pago">common.gui.components.ButtonsPanel</driver>
      <parameters>
        <arg>PRINT</arg>
        <subarg>
          <arg attribute="label">SALIR</arg>
          <arg attribute="icon">/icons/ico_cancelar.png</arg>
          <arg attribute="keyStroke">F4</arg>
        </subarg>
      </parameters>
      <events>
        <object>
          <name>PRINT</name>
          <action>
            <type>transaction</type>

            <component>
              <driver id="pago">common.gui.components.ButtonsPanel</driver>
              <method>setEnabled</method>
              <parameters>
                <arg attribute="button">PRINT</arg>
                <arg attribute="state">false</arg>
              </parameters>
            </component>            

            <!-- NA -->
            <component>
              <driver>this</driver>
              <method>getPackage</method>
              <parameters>
                <subarg>
                  <arg attribute="importValue">codigo_tipo</arg>
                </subarg>
              </parameters>
            </component>
            <!-- 0 -->
            <component>
              <driver>this</driver>
              <method>getPackage</method>
              <parameters>
                <subarg>
                  <arg attribute="importValue" setAttributeName="attribute" setAttributeValue="finalKey">vendedor</arg>
                </subarg>
              </parameters>
            </component>
            <!-- 1 -->
            <component>
              <driver>common.gui.components.XMLTextArea</driver>
              <method>getPackage</method>
            </component>
            <!-- 2 -->
            <component>
              <driver id="vpago">common.gui.components.GenericData</driver>
              <method>getPackage</method>
            </component>
            <!-- 3 -->
            <component>
              <driver>client.gui.components.FindThird</driver>
              <method>getPackage</method>
            </component>
            <!-- 4 -->
            <component>
              <driver id="centrocosto">common.gui.components.GenericData</driver>
              <method>getPackage</method>
            </component>
            <!-- 5 retefuente -->
            <component>
              <driver id="base">client.gui.components.TableFindData</driver>
              <method>getPackage</method>
            </component>
            <!-- 6 reteiva -->
            <component>
              <driver id="retiva">client.gui.components.TableFindData</driver>
              <method>getPackage</method>
            </component>
            <!-- 7 reteica -->
            <component>
              <driver id="retica">client.gui.components.TableFindData</driver>
              <method>getPackage</method>
            </component>
            <!-- 10 -->
            <component>
              <driver id="Bodega">client.gui.components.XMLComboBox</driver>
              <method>getPackage</method>
            </component>
            <!-- 11 -->
            <component>
              <driver id="principal">client.gui.components.TableFindData</driver>
              <method>getPackage</method>
            </component>


          </action>
          <action>
            <type>printer</type>
            <printerTemplate>/graphics/TNCotizacionConPiePagina.xml</printerTemplate>
              <!-- 0 codigo tipo -->
              <component>
                <driver>this</driver>
                <method>getPackage</method>
                <parameters>
                  <subarg>
                    <arg attribute="importValue">codigo_tipo</arg>
                  </subarg>
                </parameters>
              </component>            
              
            <!-- 0 -->
            <component>
              <driver>client.gui.components.FindThird</driver>
              <method>getPrintPackage</method>
            </component>
            <!-- 1 -->
            <component>
              <driver id="date">common.gui.components.GenericData</driver>
              <method>getPrintPackage</method>
            </component>

            <!-- 7 tabla productos -->
            <component>
              <driver id="principal">client.gui.components.TableFindData</driver>
              <method>getPrintPackage</method>
            </component>         
                        <component>
                            <driver>this</driver>
                            <method>getPackage</method>
                            <parameters>
                              <subarg>
                                <arg attribute="importValue">subtotalglobalsinverde</arg>
                              </subarg>
                            </parameters>
                        </component>            

                        <component>
                            <driver>this</driver>
                            <method>getPackage</method>
                            <parameters>
                              <subarg>
                                <arg attribute="importValue">vdescuentoglobal</arg>
                              </subarg>
                            </parameters>
                        </component>            
                        <component>
                            <driver>this</driver>
                            <method>getPackage</method>
                            <parameters>
                              <subarg>
                                <arg attribute="importValue">stotalexcluido</arg>
                              </subarg>
                            </parameters>
                        </component>            
                        <component>
                            <driver>this</driver>
                            <method>getPackage</method>
                            <parameters>
                              <subarg>
                                <arg attribute="importValue">stotalexento</arg>
                              </subarg>
                            </parameters>
                        </component>            

                        <component>
                            <driver id="baseivagravados">client.gui.components.TableDataFields</driver>
                            <method>getPrintPackage</method>
                        </component>

                        <component>
                            <driver>this</driver>
                            <method>getPackage</method>
                            <parameters>
                              <subarg>
                                <arg attribute="importValue">ivaglobal</arg>
                              </subarg>
                            </parameters>
                        </component>            

                        <component>
                            <driver>this</driver>
                            <method>getPackage</method>
                            <parameters>
                              <subarg>
                                <arg attribute="importValue">verde</arg>
                              </subarg>
                            </parameters>
                        </component>            
                        <component>
                            <driver>this</driver>
                            <method>getPackage</method>
                            <parameters>
                              <subarg>
                                <arg attribute="importValue">trfuente</arg>
                              </subarg>
                            </parameters>
                        </component>            
                        <component>
                            <driver>this</driver>
                            <method>getPackage</method>
                            <parameters>
                              <subarg>
                                <arg attribute="importValue">triva</arg>
                              </subarg>
                            </parameters>
                        </component>            
                        <component>
                            <driver>this</driver>
                            <method>getPackage</method>
                            <parameters>
                              <subarg>
                                <arg attribute="importValue">trica</arg>
                              </subarg>
                            </parameters>
                        </component>            
                        <component>
                            <driver>this</driver>
                            <method>getPackage</method>
                            <parameters>
                              <subarg>
                                <arg attribute="importValue">totalmenosreteglobal</arg>
                              </subarg>
                            </parameters>
                        </component>

                        <!-- Observaciones -->
                        <component>
                          <driver>common.gui.components.XMLTextArea</driver>
                          <method>getPrintPackage</method>
                        </component>

            <!--  Limpiando tablas de retenciones  -->
            <component>
              <driver id="base">client.gui.components.TableFindData</driver>
              <method>clean</method>
            </component>
            <component>
              <driver id="tretbase">client.gui.components.TableDataFields</driver>
              <method>clean</method>
            </component>
            <component>
              <driver id="retiva">client.gui.components.TableFindData</driver>
              <method>clean</method>
            </component>
            <component>
              <driver id="tretiva">client.gui.components.TableDataFields</driver>
              <method>clean</method>
            </component>
            <component>
              <driver id="retica">client.gui.components.TableFindData</driver>
              <method>clean</method>
            </component>
            <component>
              <driver id="tretica">client.gui.components.TableDataFields</driver>
              <method>clean</method>
            </component>            
            <component>
              <driver id="tipo_doc">client.gui.components.XMLComboBox</driver>
              <method>clean</method>
            </component>
            <component>
              <driver id="principal">client.gui.components.TableFindData</driver>
              <method>clean</method>
            </component>
            <component>
              <driver>client.gui.components.TableDataFields</driver>
              <method>clean</method>
            </component>
            <component>
              <driver id="total">client.gui.components.TableDataFields</driver>
              <method>clean</method>
            </component>
            <component>
              <driver id="totalValues">client.gui.components.TableDataFields</driver>
              <method>clean</method>
            </component>
            <component>
              <driver id="totalValuesDescuento">client.gui.components.TableDataFields</driver>
              <method>clean</method>
            </component>            
            <component>
              <driver>common.gui.components.XMLTextArea</driver>
              <method>clean</method>
            </component>
            <!--  limpiando llaves externas -->
            <component>
              <driver>this</driver>
              <method>cleanExternalValues</method>
            </component>
            <!--  Estos componentes exportan valores, por eso debe ir despues de
              limpiar las llaves externas -->
              <component>
              <driver>client.gui.components.FindThird</driver>
              <method>clean</method>
            </component>
            <component>
              <driver id="Vendedor">client.gui.components.XMLComboBox</driver>
              <method>clean</method>
            </component>
            <component>
              <driver id="date">common.gui.components.GenericData</driver>
              <method>clean</method>
            </component>

            <component>
              <driver id="pago">common.gui.components.ButtonsPanel</driver>
              <method>setEnabled</method>
              <parameters>
                <arg attribute="button">PRINT</arg>
                <arg attribute="state">true</arg>
              </parameters>
            </component>            

          <component>
            <driver>gfforma</driver>
            <method>setVisible</method>
            <parameters>
              <arg>false</arg>
            </parameters>
          </component>                                                       

          </action>

        </object>
        <object>
          <name>SALIR</name>
          <component>
            <driver>gfforma</driver>
            <method>setVisible</method>
            <parameters>
              <arg>false</arg>
            </parameters>
          </component>
        </object>
      </events>
    </component>
  </FORM>
</FORM>